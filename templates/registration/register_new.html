{% load static %}
{% load widget_tweaks %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ school_name | default:"SchooBees | MySchool" }}</title>
    <link rel="shortcut icon" href="{% static 'dist/img/logos/logo_y.png' %}" type="image/x-icon">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="{% static 'plugins/fontawesome-free/css/all.min.css' %}">

    <link rel="stylesheet" href="{% static 'plugins/toastr/toastr.min.css' %}">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="{% static 'plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">

    <!--Login Page Csss-->
    <link rel="stylesheet" href="{% static 'dist/css/login-page.css' %}">

    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <style>
        /*
        * ==========================================
        * CUSTOM UTIL CLASSES
        * ==========================================
        *
        */

        .border-md {
            border-width: 2px;
        }

        .btn-facebook {
            background: #405D9D;
            border: none;
        }

        .btn-facebook:hover, .btn-facebook:focus {
            background: #314879;
        }

        .btn-twitter {
            background: #42AEEC;
            border: none;
        }

        .btn-twitter:hover, .btn-twitter:focus {
            background: #1799e4;
        }

        /*
        * ==========================================
        * FOR DEMO PURPOSES
        * ==========================================
        *
        */

        body {
            min-height: 100vh;
        }

        .form-control:not(select) {
            padding: 1.5rem 0.5rem;
        }

        select.form-control {
            height: 52px;
            padding-left: 0.5rem;
        }

        .form-control::placeholder {
            color: #ccc;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .form-control:focus {
            box-shadow: none;
        }

        select#id_country {
            border-radius: 100px;
            background: #e6e6e6;
            width: auto;
        }

        .mobile_number {
            width: 100%;
        }

        .login100-form-btn {
            width: auto;
        }
    </style>
</head>
<body>
    <!-- Navbar-->
    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-light py-3">
            <div class="container">
                <!-- Navbar Brand -->
                <h1>Create an Account</h1>
                <p class="font-italic text-muted mb-0">Register Yourself</p>
            </div>
        </nav>
    </header>

    <div class="container">
        <div class="row py-3 mt-3 align-items-center">
            <!-- For Demo Purpose -->
            <div class="col-md-5 pr-lg-5 mb-5 mb-md-0">
                <img src="{% static 'dist/img/logos/logo_w.png' %}" alt="" class="img-fluid mb-3 d-none d-md-block">
            </div>

            <!-- Registration Form -->
            <div class="col-md-7 col-lg-6 ml-auto">
                <form method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="wrap-input100 validate-input mx-2" data-validate="Enter username">
                            <input class="input100" id="id_username" name="username" type="text" placeholder="Username" required>
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-user-circle" aria-hidden="true"></i>
                            </span>
                        </div>

                        <div class="wrap-input100 validate-input mx-2" data-validate="Valid email is required: ex@abc.xyz">
                            <input type="email" name="email" id="email" class="input100" placeholder="Email" required>
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                            </span>
                        </div>

                        <div class="wrap-input100 validate-input mx-2" data-validate="Valid email is required: ex@abc.xyz">
                            <input class="input100" id="school_name" name="school_name" type="text" placeholder="School Name" required>
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-building" aria-hidden="true"></i>
                            </span>
                        </div>

                        <div class="d-flex justify-content-center wrap-input100 validate-input">
                            <div class="form-group mx-2">
                                {{ profile_form.country }}
                            </div>

                            <div class="wrap-input100 validate-input" data-validate="Valid phone number is required">
                                <input class="input100" id="phone_number" name="phone_number" type="text" placeholder="Phone Number" pattern="[0-9]{10}" maxlength="10" oninput="restrictInputLength(this, 10)" required>
                                <span class="focus-input100"></span>
                                <span class="symbol-input100">
                                    <i class="fa fa-phone" aria-hidden="true"></i>
                                </span>
                            </div>
                        </div>

                        <div class="d-flex justify-content-center">
                            <div class="wrap-input100 validate-input mx-2" data-validate="Chairman name is required">
                                <input class="input100" id="chairman" name="chairman" type="text" placeholder="Chairman" required>
                                <span class="focus-input100"></span>
                                <span class="symbol-input100">
                                    <i class="fa fa-user" aria-hidden="true"></i>
                                </span>
                            </div>

                            <div class="wrap-input100 validate-input " data-validate="Principal name is required">
                                <input class="input100" id="principal" name="principal" type="text" placeholder="Principal" required>
                                <span class="focus-input100"></span>
                                <span class="symbol-input100">
                                    <i class="fa fa-user" aria-hidden="true"></i>
                                </span>
                            </div>
                        </div>

                        <div class="wrap-input100 validate-input" data-validate="Password is required">
                            <input type="password" name="password1" id="password1" class="input100" placeholder="Password" required>
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-lock" aria-hidden="true"></i>
                            </span>
                        </div>

                        <!-- Confirm Password -->
                        <div class="wrap-input100 validate-input" data-validate="Confirm Password is required">
                            <input type="password" name="password2" id="password2" class="input100" placeholder="Confirm Password" required>
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-lock" aria-hidden="true"></i>
                            </span>
                        </div>

                        <div class="container-login100-form-btn my-4">
                            <button class="login100-form-btn" type="submit">
                                Create Account
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
    <!-- Bootstrap 4 -->
    <script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <!-- AdminLTE App -->
    <script src="{% static 'dist/js/adminlte.min.js' %}"></script>
    <script src="{% static 'plugins/toastr/toastr.min.js' %}"></script>
    <script
    src="{% static 'plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>

  <!-- AdminLTE App -->
  <script src="{% static 'dist/js/adminlte.js' %}"></script>

  <!-- OPTIONAL SCRIPTS -->
  <script src="{% static 'dist/js/demo.js' %}"></script>

  {% if messages %}
  {% for message in messages %}
  <script type=text/javascript>
      toastr.options.progressBar = true;
      toastr.{{ message.tags }}('{{ message }}')
    </script>
  {% endfor %}
  {% endif %}

    <script>
        // Password validation
        const password1Input = document.getElementById("password1");
        const password2Input = document.getElementById("password2");
        const passwordError = document.getElementById("password-error");

        function validatePassword() {
            const password1 = password1Input.value;
            const password2 = password2Input.value;

            if (password1 !== password2) {
                passwordError.textContent = "Passwords do not match";
                password2Input.setCustomValidity("Passwords do not match");
            } else {
                passwordError.textContent = "";
                password2Input.setCustomValidity("");
            }
        }

    password1Input.addEventListener("input", validatePassword);
    password2Input.addEventListener("input", validatePassword);

    // Phone number validation
        function restrictInputLength(input, maxLength) {
            if (input.value.length > maxLength) {
                input.value = input.value.slice(0, maxLength);
            }
        }
        $(document).ready(function () {
        $('#phone_number').on('input', function () {
            var phoneNumber = $(this).val();
            var isValid = /^[0-9]{10}$/.test(phoneNumber);
            var errorMessage = '';

            if (!isValid) {
                errorMessage = 'Invalid phone number';
            }

            $('#phone-error').text(errorMessage);
        });
    });
    </script>
</body>
</html>

